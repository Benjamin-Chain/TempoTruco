{"ast":null,"code":"import React,{useState,useEffect}from'react';import{subjects,getAllYears}from'../data/subjects';import{getConflictingSubjectIds}from'../utils/scheduleUtils';import Message from'./common/Message';import'./SubjectSelector.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SubjectSelector=_ref=>{let{selectedSubjects,onSelectionChange}=_ref;const[selectedYear,setSelectedYear]=useState(null);const[selectedSemester,setSelectedSemester]=useState(null);const[availableSubjects,setAvailableSubjects]=useState([]);const[checkedSubjects,setCheckedSubjects]=useState(new Set());const years=getAllYears();// Update available subjects when year/semester changes\nuseEffect(()=>{if(selectedYear&&selectedSemester){const filtered=subjects.filter(s=>s.year===selectedYear&&s.semester===selectedSemester&&!s.toDefine);setAvailableSubjects(filtered);}else{setAvailableSubjects([]);}},[selectedYear,selectedSemester]);// Update checked subjects based on all selected subjects (not just current year)\nuseEffect(()=>{const selectedIds=new Set(selectedSubjects.map(s=>s.id));setCheckedSubjects(selectedIds);},[selectedSubjects]);const handleYearChange=year=>{setSelectedYear(year);if(!selectedSemester){setSelectedSemester(1);// Default to first semester\n}};const handleSemesterChange=semester=>{setSelectedSemester(semester);};const handleSubjectToggle=subject=>{// Get all currently selected subjects from parent\nconst selectedIds=new Set(selectedSubjects.map(s=>s.id));// Toggle this subject\nif(selectedIds.has(subject.id)){selectedIds.delete(subject.id);}else{selectedIds.add(subject.id);}// Get all selected subjects from the full subjects list\nconst allSelected=subjects.filter(s=>selectedIds.has(s.id)&&!s.toDefine);// Validate same semester (only semester, not year)\nif(allSelected.length>0){const semesters=new Set(allSelected.map(s=>s.semester));if(semesters.size>1){// Different semesters - don't allow this selection\nalert('No puedes seleccionar asignaturas de diferentes semestres. Por favor, deselecciona las asignaturas de otro semestre primero.');return;}}// Update parent with all selected subjects\nonSelectionChange(allSelected);};const formatDays=days=>{const dayNames={'L':'Lun','M':'Mar','X':'Mié','J':'Jue','V':'Vie'};return days.map(d=>dayNames[d]||d).join(', ');};// Get conflicting subject IDs for visual indication\nconst conflictingIds=selectedSubjects.length>0?getConflictingSubjectIds(selectedSubjects):new Set();return/*#__PURE__*/_jsxs(\"div\",{className:\"subject-selector\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Seleccionar Asignaturas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"A\\xF1o:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedYear||'',onChange:e=>handleYearChange(Number(e.target.value)),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar a\\xF1o\"}),years.map(year=>/*#__PURE__*/_jsxs(\"option\",{value:year,children:[year,\"\\xB0 A\\xF1o\"]},year))]})]}),selectedYear&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Semestre:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"semester-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"semester-btn \".concat(selectedSemester===1?'active':''),onClick:()=>handleSemesterChange(1),children:\"1\\xB0 Semestre\"}),/*#__PURE__*/_jsx(\"button\",{className:\"semester-btn \".concat(selectedSemester===2?'active':''),onClick:()=>handleSemesterChange(2),children:\"2\\xB0 Semestre\"})]})]})]}),selectedSubjects.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected-subjects-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subjects-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Asignaturas Seleccionadas (\",selectedSubjects.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"clear-all-btn\",onClick:()=>onSelectionChange([]),title:\"Limpiar todas las selecciones\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle\"}),\" Limpiar todo\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"subjects-grid\",children:selectedSubjects.map(subject=>/*#__PURE__*/_jsxs(\"div\",{className:\"subject-card selected \".concat(conflictingIds.has(subject.id)?'conflicting':''),onClick:()=>handleSubjectToggle(subject),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subject-card-header\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:true,onChange:()=>handleSubjectToggle(subject),onClick:e=>e.stopPropagation()}),/*#__PURE__*/_jsx(\"h4\",{children:subject.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"subject-year-badge\",children:[subject.year,\"\\xB0 A\\xF1o\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"subject-card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"subject-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar\"}),formatDays(subject.days)]}),subject.schedule&&/*#__PURE__*/_jsxs(\"span\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock\"}),subject.schedule.start,\" - \",subject.schedule.end]}),subject.notes&&/*#__PURE__*/_jsxs(\"span\",{className:\"info-item notes\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle\"}),subject.notes]})]})})]},subject.id))}),conflictingIds.size>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"conflict-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Las asignaturas marcadas en amarillo tienen conflictos de horario entre s\\xED.\"})]})]}),selectedYear&&selectedSemester&&/*#__PURE__*/_jsx(\"div\",{className:\"subjects-list\",children:availableSubjects.length===0?/*#__PURE__*/_jsx(Message,{variant:\"blue\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No hay asignaturas disponibles para esta combinaci\\xF3n.\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"subjects-header\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Asignaturas disponibles - \",selectedYear,\"\\xB0 A\\xF1o, \",selectedSemester,\"\\xB0 Semestre (\",availableSubjects.length,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"subjects-grid\",children:availableSubjects.map(subject=>/*#__PURE__*/_jsxs(\"div\",{className:\"subject-card \".concat(checkedSubjects.has(subject.id)?'selected':'',\" \").concat(conflictingIds.has(subject.id)?'conflicting':''),onClick:()=>handleSubjectToggle(subject),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subject-card-header\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:checkedSubjects.has(subject.id),onChange:()=>handleSubjectToggle(subject),onClick:e=>e.stopPropagation()}),/*#__PURE__*/_jsx(\"h4\",{children:subject.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"subject-card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"subject-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar\"}),formatDays(subject.days)]}),subject.schedule&&/*#__PURE__*/_jsxs(\"span\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock\"}),subject.schedule.start,\" - \",subject.schedule.end]}),subject.notes&&/*#__PURE__*/_jsxs(\"span\",{className:\"info-item notes\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle\"}),subject.notes]})]})})]},subject.id))})]})}),!selectedYear&&/*#__PURE__*/_jsx(Message,{variant:\"blue\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Selecciona un a\\xF1o y semestre para ver las asignaturas disponibles.\"})})]});};export default SubjectSelector;","map":{"version":3,"names":["React","useState","useEffect","subjects","getAllYears","getConflictingSubjectIds","Message","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SubjectSelector","_ref","selectedSubjects","onSelectionChange","selectedYear","setSelectedYear","selectedSemester","setSelectedSemester","availableSubjects","setAvailableSubjects","checkedSubjects","setCheckedSubjects","Set","years","filtered","filter","s","year","semester","toDefine","selectedIds","map","id","handleYearChange","handleSemesterChange","handleSubjectToggle","subject","has","delete","add","allSelected","length","semesters","size","alert","formatDays","days","dayNames","d","join","conflictingIds","className","children","value","onChange","e","Number","target","concat","onClick","title","type","checked","stopPropagation","name","schedule","start","end","notes","variant"],"sources":["C:/Users/Jaben/Documents/GitHub/TiempoTruco/src/components/SubjectSelector.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { subjects, getAllYears } from '../data/subjects';\r\nimport { getConflictingSubjectIds } from '../utils/scheduleUtils';\r\nimport Message from './common/Message';\r\nimport './SubjectSelector.css';\r\n\r\nconst SubjectSelector = ({ selectedSubjects, onSelectionChange }) => {\r\n  const [selectedYear, setSelectedYear] = useState(null);\r\n  const [selectedSemester, setSelectedSemester] = useState(null);\r\n  const [availableSubjects, setAvailableSubjects] = useState([]);\r\n  const [checkedSubjects, setCheckedSubjects] = useState(new Set());\r\n\r\n  const years = getAllYears();\r\n\r\n  // Update available subjects when year/semester changes\r\n  useEffect(() => {\r\n    if (selectedYear && selectedSemester) {\r\n      const filtered = subjects.filter(\r\n        s => s.year === selectedYear && \r\n        s.semester === selectedSemester && \r\n        !s.toDefine\r\n      );\r\n      setAvailableSubjects(filtered);\r\n    } else {\r\n      setAvailableSubjects([]);\r\n    }\r\n  }, [selectedYear, selectedSemester]);\r\n\r\n  // Update checked subjects based on all selected subjects (not just current year)\r\n  useEffect(() => {\r\n    const selectedIds = new Set(selectedSubjects.map(s => s.id));\r\n    setCheckedSubjects(selectedIds);\r\n  }, [selectedSubjects]);\r\n\r\n  const handleYearChange = (year) => {\r\n    setSelectedYear(year);\r\n    if (!selectedSemester) {\r\n      setSelectedSemester(1); // Default to first semester\r\n    }\r\n  };\r\n\r\n  const handleSemesterChange = (semester) => {\r\n    setSelectedSemester(semester);\r\n  };\r\n\r\n  const handleSubjectToggle = (subject) => {\r\n    // Get all currently selected subjects from parent\r\n    const selectedIds = new Set(selectedSubjects.map(s => s.id));\r\n    \r\n    // Toggle this subject\r\n    if (selectedIds.has(subject.id)) {\r\n      selectedIds.delete(subject.id);\r\n    } else {\r\n      selectedIds.add(subject.id);\r\n    }\r\n    \r\n    // Get all selected subjects from the full subjects list\r\n    const allSelected = subjects.filter(s => selectedIds.has(s.id) && !s.toDefine);\r\n    \r\n    // Validate same semester (only semester, not year)\r\n    if (allSelected.length > 0) {\r\n      const semesters = new Set(allSelected.map(s => s.semester));\r\n      if (semesters.size > 1) {\r\n        // Different semesters - don't allow this selection\r\n        alert('No puedes seleccionar asignaturas de diferentes semestres. Por favor, deselecciona las asignaturas de otro semestre primero.');\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Update parent with all selected subjects\r\n    onSelectionChange(allSelected);\r\n  };\r\n\r\n  const formatDays = (days) => {\r\n    const dayNames = { 'L': 'Lun', 'M': 'Mar', 'X': 'Mié', 'J': 'Jue', 'V': 'Vie' };\r\n    return days.map(d => dayNames[d] || d).join(', ');\r\n  };\r\n\r\n  // Get conflicting subject IDs for visual indication\r\n  const conflictingIds = selectedSubjects.length > 0 \r\n    ? getConflictingSubjectIds(selectedSubjects)\r\n    : new Set();\r\n\r\n  return (\r\n    <div className=\"subject-selector\">\r\n      <h2>Seleccionar Asignaturas</h2>\r\n      \r\n      <div className=\"filters\">\r\n        <div className=\"filter-group\">\r\n          <label>Año:</label>\r\n          <select \r\n            value={selectedYear || ''} \r\n            onChange={(e) => handleYearChange(Number(e.target.value))}\r\n            className=\"filter-select\"\r\n          >\r\n            <option value=\"\">Seleccionar año</option>\r\n            {years.map(year => (\r\n              <option key={year} value={year}>{year}° Año</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {selectedYear && (\r\n          <div className=\"filter-group\">\r\n            <label>Semestre:</label>\r\n            <div className=\"semester-buttons\">\r\n              <button\r\n                className={`semester-btn ${selectedSemester === 1 ? 'active' : ''}`}\r\n                onClick={() => handleSemesterChange(1)}\r\n              >\r\n                1° Semestre\r\n              </button>\r\n              <button\r\n                className={`semester-btn ${selectedSemester === 2 ? 'active' : ''}`}\r\n                onClick={() => handleSemesterChange(2)}\r\n              >\r\n                2° Semestre\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Show selected subjects from all years */}\r\n      {selectedSubjects.length > 0 && (\r\n        <div className=\"selected-subjects-section\">\r\n          <div className=\"subjects-header\">\r\n            <h3>Asignaturas Seleccionadas ({selectedSubjects.length})</h3>\r\n            <button\r\n              className=\"clear-all-btn\"\r\n              onClick={() => onSelectionChange([])}\r\n              title=\"Limpiar todas las selecciones\"\r\n            >\r\n              <i className=\"bi bi-x-circle\"></i> Limpiar todo\r\n            </button>\r\n          </div>\r\n          <div className=\"subjects-grid\">\r\n            {selectedSubjects.map(subject => (\r\n              <div \r\n                key={subject.id} \r\n                className={`subject-card selected ${conflictingIds.has(subject.id) ? 'conflicting' : ''}`}\r\n                onClick={() => handleSubjectToggle(subject)}\r\n              >\r\n                <div className=\"subject-card-header\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={true}\r\n                    onChange={() => handleSubjectToggle(subject)}\r\n                    onClick={(e) => e.stopPropagation()}\r\n                  />\r\n                  <h4>{subject.name}</h4>\r\n                  <span className=\"subject-year-badge\">{subject.year}° Año</span>\r\n                </div>\r\n                <div className=\"subject-card-body\">\r\n                  <div className=\"subject-info\">\r\n                    <span className=\"info-item\">\r\n                      <i className=\"bi bi-calendar\"></i>\r\n                      {formatDays(subject.days)}\r\n                    </span>\r\n                    {subject.schedule && (\r\n                      <span className=\"info-item\">\r\n                        <i className=\"bi bi-clock\"></i>\r\n                        {subject.schedule.start} - {subject.schedule.end}\r\n                      </span>\r\n                    )}\r\n                    {subject.notes && (\r\n                      <span className=\"info-item notes\">\r\n                        <i className=\"bi bi-info-circle\"></i>\r\n                        {subject.notes}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {conflictingIds.size > 0 && (\r\n            <div className=\"conflict-warning\">\r\n              <i className=\"bi bi-exclamation-triangle\"></i>\r\n              <span>Las asignaturas marcadas en amarillo tienen conflictos de horario entre sí.</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {selectedYear && selectedSemester && (\r\n        <div className=\"subjects-list\">\r\n          {availableSubjects.length === 0 ? (\r\n            <Message variant=\"blue\">\r\n              <p>No hay asignaturas disponibles para esta combinación.</p>\r\n            </Message>\r\n          ) : (\r\n            <>\r\n              <div className=\"subjects-header\">\r\n                <h3>Asignaturas disponibles - {selectedYear}° Año, {selectedSemester}° Semestre ({availableSubjects.length})</h3>\r\n              </div>\r\n              <div className=\"subjects-grid\">\r\n                {availableSubjects.map(subject => (\r\n                  <div \r\n                    key={subject.id} \r\n                    className={`subject-card ${checkedSubjects.has(subject.id) ? 'selected' : ''} ${conflictingIds.has(subject.id) ? 'conflicting' : ''}`}\r\n                    onClick={() => handleSubjectToggle(subject)}\r\n                  >\r\n                    <div className=\"subject-card-header\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={checkedSubjects.has(subject.id)}\r\n                        onChange={() => handleSubjectToggle(subject)}\r\n                        onClick={(e) => e.stopPropagation()}\r\n                      />\r\n                      <h4>{subject.name}</h4>\r\n                    </div>\r\n                    <div className=\"subject-card-body\">\r\n                      <div className=\"subject-info\">\r\n                        <span className=\"info-item\">\r\n                          <i className=\"bi bi-calendar\"></i>\r\n                          {formatDays(subject.days)}\r\n                        </span>\r\n                        {subject.schedule && (\r\n                          <span className=\"info-item\">\r\n                            <i className=\"bi bi-clock\"></i>\r\n                            {subject.schedule.start} - {subject.schedule.end}\r\n                          </span>\r\n                        )}\r\n                        {subject.notes && (\r\n                          <span className=\"info-item notes\">\r\n                            <i className=\"bi bi-info-circle\"></i>\r\n                            {subject.notes}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {!selectedYear && (\r\n        <Message variant=\"blue\">\r\n          <p>Selecciona un año y semestre para ver las asignaturas disponibles.</p>\r\n        </Message>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubjectSelector;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}